<div class="flex h-screen bg-gray-50 overflow-hidden">

  <aside class="flex w-64 flex-col bg-slate-900 text-white shadow-xl">
    
    <div class="flex h-16 items-center justify-center border-b border-slate-800 bg-slate-950">
      <h1 class="text-xl font-bold tracking-wider text-blue-500">RENTIX</h1>
    </div>

    <div class="border-b border-slate-800 p-4">
      <div class="flex items-center gap-3">
        <div class="flex h-10 w-10 items-center justify-center rounded-full bg-blue-600 font-bold text-white">
            {{ session.user()?.firstName?.charAt(0) ?? 'U' }}
        </div>
        <div class="overflow-hidden">
          <p class="truncate text-sm font-medium text-white">
            {{ session.user()?.firstName }}
          </p>
          <button (click)="changeCompany()" class="text-xs text-slate-400 hover:text-blue-400 hover:underline flex items-center gap-1">
            <span>ğŸ¢</span>
            <span class="truncate max-w-[100px]">
              {{ session.currentCompany()?.legalName ?? 'Sin Empresa' }}
            </span>
          </button>
        </div>
      </div>
    </div>

    <nav class="flex-1 overflow-y-auto py-4 px-2 space-y-1">
      @for (item of menuItems(); track item.route) {
        <a 
          [routerLink]="item.route" 
          routerLinkActive="bg-blue-600 text-white shadow-md"
          class="group flex items-center rounded-lg px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800 hover:text-white transition-all"
        >
          <span class="mr-3 opacity-70 group-hover:opacity-100">{{ item.icon }}</span>
          {{ item.label }}
        </a>
      }
    </nav>

    <div class="border-t border-slate-800 p-4">
      <button 
        (click)="logout()"
        class="flex w-full items-center justify-center gap-2 rounded-md bg-slate-800 px-4 py-2 text-sm text-slate-300 hover:bg-red-600 hover:text-white transition-colors"
      >
        <span>ğŸšª</span> Cerrar SesiÃ³n
      </button>
    </div>
  </aside>

  <main class="flex-1 overflow-y-auto relative">
    <router-outlet />
  </main>

</div>